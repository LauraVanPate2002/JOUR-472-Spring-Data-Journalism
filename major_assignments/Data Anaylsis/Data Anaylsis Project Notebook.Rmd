---
title: "Data Anaylsis Project"
author: "Laura Van Pate"
date: "4/23/2024"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

In this notebook, we are data anaylsising women's basketball data.

Link to Memo: [https://docs.google.com/document/d/1kBbZ0zqzm_vxlZfKVhpUGRWD3C5Xz-v1W7Tus1d2a7k/edit?](https://docs.google.com/document/d/1kBbZ0zqzm_vxlZfKVhpUGRWD3C5Xz-v1W7Tus1d2a7k/edit?usp=sharing){.uri}

Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}

library(tidyverse)
library(janitor)
library(lubridate)
library(readr) 
```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data.

```{r}
# Load required data
wbb_2020 <- read_csv('data/wbb_rosters_2020_21.csv') |> clean_names()

wbb_2021 <-read_csv('data/wbb_rosters_2021_22.csv') |> clean_names()

wbb_2022 <-read_csv('data/wbb_rosters_2022_23.csv') |> clean_names()

wbb_2023 <-read_csv('data/wbb_rosters_2023_24.csv') |> clean_names()

wbb_crosswalk <-read_csv('data/wbb_rosters23_crosswalk.csv') |> clean_names()

wbb_combined <- bind_rows(list(wbb_2023, wbb_2022, wbb_2021, wbb_2020))
# Path to data should be loaded from folder "data" i.e. read_csv(
# Clean required data and prepare for analysis if needed. 


```

## Sentences to Engineer

In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

-   **Sentence text**: [What is the average height of players of 2020, 2022, and 2023, and what town do they come from]

-   **Analysis summary**: [So far the year 2020 had the highest average of players with 81 inches, and each year had a group of cities tied for the highest average of height, such as Rio, Brazil, Miami, Florida, and Appleton, Wisconsin. A problem we had was we couldn't load 2021 because there was no total inches column. When doing the feet in 2020, the largest height was 6.75 feet. In 2022 and 2023 the largest height was 6.583 ft.

```{r}
# Put code to data anaylsis sentence here
#
wbb_2020_height_per_town <- wbb_2020 |>
  group_by(hometown_clean) |> summarize(Avg_height_per_town = mean (total_inches)) |> arrange(desc(Avg_height_per_town)) |>
  mutate(feet = Avg_height_per_town/12)


wbb_2022_height_per_town <- wbb_2022 |>
   group_by(hometown_clean) |> mutate(total_inches) |> summarize(Avg_height_per_town = mean (total_inches)) |> arrange(desc(Avg_height_per_town)) |>
  mutate(feet = Avg_height_per_town/12)

wbb_2023_height_per_town <- wbb_2023 |>
  group_by(hometown_clean) |> mutate(total_inches) |> summarize(Avg_height_per_town = mean (total_inches)) |> arrange(desc(Avg_height_per_town)) |>
  mutate(feet = Avg_height_per_town/12)




# Display results of code below this codeblock

#





```

### Sentence 2

-   **Sentence text**: We wanted to find out how many women's basketball players played a certain position from the years 2020-2023.
-   **Analysis summary**: We were able to figure out that in 2020, Guard was the position with the most members with 7,670. Guard was the highest again in 2021 with 8,109. Guard was again the highest in 2022 with 8,305. And in 2023, Guard was yet again the highest position with 8,282.

```{r}
# Put code to reverse engineer sentence here
#
wbb_positions_2020 <- wbb_2020 |>
  group_by(position_clean) |>
  summarize(count = n())

wbb_positions_2021 <- wbb_2021 |>
  group_by(position_clean) |>
  summarize(count = n())

wbb_positions_2022 <- wbb_2022 |>
  group_by(position_clean) |>
  summarize(count = n())

wbb_positions_2023 <- wbb_2023 |>
  group_by(position_clean) |>
  summarize(count = n())



# Display results of code below this codeblock

```

### Sentence 3

-   **Sentence text**: In the years 2022 and 2023, how many teams had more than 1 redshirt on their team? What team had the most, and where are they from
-   **Analysis summary**: In 2022 Grand Valley State in Michigan had the most red shirts with 12 and in 2023 Biola in California had the most red shirts 10. For both years combined, Cal St. San Marcos in California had the most with 32.

```{r}
# Put code to reverse engineer sentence here
redshirt_22 <-wbb_2022 |>
  group_by(team, team_state) |>
  summarise(redshirt_numbers = sum(redshirt)) |> arrange(desc (redshirt_numbers)) |>
  filter(redshirt_numbers > 1)

redshirt_23 <- wbb_2023 |>
  group_by(team, team_state) |>
  summarise(redshirt_count = sum(redshirt)) |> arrange(desc (redshirt_count)) |>
  filter(redshirt_count > 1) 

all_redshirt <- wbb_combined |>
  group_by(team, team_state) |>
  summarise(redshirt_count = sum(redshirt)) |>
  arrange(desc(redshirt_count)) |>
  filter(redshirt_count > 1)
#
 
```

### Sentence 4

-   **Sentence text**: How many players are from Maryland each year? Does the numbers increase or decrease
-   **Analysis summary**: There were 352 players for 2020 from Maryland, 345 players from Maryland in 2021, 350 players from Maryland in 2022, and then 336 players from Maryland in 2023. This shows that players from Maryland went down sightly from 2020 to 2021, and then went up again in 2022, though 2022 was still a smaller number than 2020, and then players from Maryland decreased by 14 in 2023, being the largest change.

```{r}
# Put code to reverse engineer sentence here
#
MD_Players_2020 <- wbb_2020 |>
  filter(str_detect(homestate, 'Maryland' ))

MD_Players_2021 <- wbb_2021 |>
  filter(str_detect(homestate, 'Maryland' ))

MD_Players_2022 <- wbb_2022 |>
  filter(str_detect(homestate, 'Maryland' ))

MD_Players_2023 <- wbb_2023 |>
  filter(str_detect(homestate, 'Maryland' ))
# Display results of code below this codeblock

```

### Sentence 5

-   **Sentence text**: We wanted to find the state with the most college women's basketball players from each year.
-   **Analysis summary**: In 2020, we discovered the Pennsylvania had the most with 894, In 2021 it was Pennsylvania again this time with 924. In 2022 Pennsylvania had the most again with 908. And in 2023 Pennsylvania had the most with 894. Each year Texas had the second most and Ohio had the third most with New York and Illinois flopping between fourth and fifth place.

```{r}
# Put code to data analysis sentence here
#
wbb_states_2020 <- wbb_2020 |>
  group_by(homestate) |>
  summarize(count = n()) |>
  arrange(desc(count))

wbb_states_2021 <- wbb_2021 |>
  group_by(homestate) |>
  summarize(count = n()) |>
  arrange(desc(count))

wbb_states_2022 <- wbb_2022 |>
  group_by(homestate) |>
  summarize(count = n()) |>
  arrange(desc(count))

wbb_states_2023 <- wbb_2023 |>
  group_by(homestate) |>
  summarize(count = n()) |>
  arrange(desc(count))
# Display results of code below this codeblock

```

-30-
